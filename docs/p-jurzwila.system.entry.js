System.register(["./p-8de89bf3.system.js"],function(e){"use strict";var t,o,n,r;return{setters:[function(e){t=e.r;o=e.h;n=e.g;r=e.c}],execute:function(){var i=function(){function e(e){t(this,e)}e.prototype.render=function(){return o("div",{class:"app-home"},o("pedal-board",null))};Object.defineProperty(e,"style",{get:function(){return".app-home{padding:10px}button{background:#5851ff;color:#fff;margin:8px;border:none;font-size:13px;font-weight:700;text-transform:uppercase;padding:16px 20px;border-radius:2px;-webkit-box-shadow:0 8px 16px rgba(0,0,0,.1),0 3px 6px rgba(0,0,0,.08);box-shadow:0 8px 16px rgba(0,0,0,.1),0 3px 6px rgba(0,0,0,.08);outline:0;letter-spacing:.04em;-webkit-transition:all .15s ease;transition:all .15s ease;cursor:pointer}button:hover{-webkit-box-shadow:0 3px 6px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.1);box-shadow:0 3px 6px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.1);-webkit-transform:translateY(1px);transform:translateY(1px)}"},enumerable:true,configurable:true});return e}();e("app_home",i);var a={context:new AudioContext,sources:[],pedals:[],toggleOnOff:function(e,t){return function(o){var n=o===undefined?!!e.gain.value:o;if(n){t.gain.value=1;e.gain.value=0}else{t.gain.value=0;e.gain.value=1}}},createSwitch:function(e,t,o){if(o===void 0){o=false}var n=this.context.createGain();var r=this.context.createGain();var i=this.context.createGain();var a=this.toggleOnOff(n,r);a(o);e.connect(n);t.connect(r);n.connect(i);r.connect(i);return[i,a]},addPedal:function(e){this.pedals.push(e)},sealPedalBoard:function(){var e=this.context.createGain();for(var t=0,o=this.sources;t<o.length;t++){var n=o[t];var r=this.context.createMediaElementSource(n);r.connect(e)}var i=this.pedals.reduce(function(e,t){return t(e)},e);i.connect(this.context.destination)}};var s=function(){function e(e){t(this,e);this.playing=false;this.demoFileNodes=[]}e.prototype.componentWillLoad=function(){var e=["FloatingRotary","NoFear","OrangeDrive","TheSeventies","TombComb","VintageCombo"];var t=document.createDocumentFragment();for(var o=0,n=e;o<n.length;o++){var r=n[o];var i=document.createElement("audio");i.src="assets/audio/"+r+".mp3";i.id=r;i.loop=true;this.demoFileNodes.push(i);a.sources.push(i)}this.el.appendChild(t);this.setActiveAudioNode(0)};e.prototype.setActiveAudioNode=function(e){this.togglePlaying("pause");this.audioNode=this.demoFileNodes[e]};e.prototype.componentDidLoad=function(){a.sealPedalBoard()};e.prototype.togglePlaying=function(e){if(e===void 0){e=null}if(!this.audioNode)return;var t=a.context;if(t.state==="suspended"){t.resume()}if(e){if(e==="pause"){this.audioNode.pause();this.playing=true}if(e==="play"){this.audioNode.play();this.playing=true}}if(!this.playing){this.audioNode.play();this.playing=true}else if(this.playing){this.audioNode.pause();this.playing=false}};e.prototype.render=function(){var e=this;return o("div",{class:"PedalBoard"},o("select",{onChange:function(t){return e.setActiveAudioNode(t.target.value)}},this.demoFileNodes.map(function(e,t){return o("option",{value:t},e.id)})),o("button",{onClick:function(){return e.togglePlaying()}},this.playing?"◼":"►"),o("div",{class:"PedalBoard__pedals"},o("pedal-boost",null),o("pedal-overdrive",null)))};Object.defineProperty(e.prototype,"el",{get:function(){return n(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return".PedalBoard__pedals{display:-ms-flexbox;display:flex}.PedalBoard__pedals>*{border:1px solid;margin:1em}"},enumerable:true,configurable:true});return e}();e("pedal_board",s);var u=function(){function e(e){t(this,e);this.active=false;this.boost=1.5}e.prototype.componentWillLoad=function(){var e=this;a.addPedal(function(t){var o=a.context;var n=o.createGain();var r=o.createGain();var i=a.createSwitch(t,n,e.active),s=i[0],u=i[1];e.toggle=u;e.boostNode=r;t.connect(r);r.connect(n);return s})};e.prototype.setBoostValue=function(e){var t=parseFloat(e.detail);this.boostNode.gain.value=t};e.prototype.toggleActive=function(){this.active=!this.active;this.toggle()};e.prototype.render=function(){var e=this;return o("div",{class:"pedal-boost"},o("h1",null,"<pedal-boost>"),o("pedal-knob",{label:"Boost",min:0,max:3,value:this.boost,onRotate:function(t){return e.setBoostValue(t)}}),o("pedal-stomp",{isActive:this.active,onStomp:function(){return e.toggleActive()}}))};Object.defineProperty(e,"style",{get:function(){return""},enumerable:true,configurable:true});return e}();e("pedal_boost",u);var l=function(){function e(e){t(this,e);this.max=1;this.min=0;this.step="any";this.value=0;this.rotate=r(this,"rotate",7)}e.prototype.inputHandler=function(e){var t=parseFloat(e.target.value);this.rotate.emit(t)};e.prototype.render=function(){var e=this;return o("div",{class:"pedal-knob"},o("label",{htmlFor:"knob"},this.label),o("input",{id:"knob",type:"range",min:this.min,max:this.max,step:this.step,value:this.value,onInput:function(t){return e.inputHandler(t)}}))};Object.defineProperty(e,"style",{get:function(){return""},enumerable:true,configurable:true});return e}();e("pedal_knob",l);var c=function(){function e(e){t(this,e);this.active=false;this.lowPassFreq=5200;this.drive=18}e.prototype.componentWillLoad=function(){var e=this;a.addPedal(function(t){var o=a.context;var n=o.createGain();e.lowPassNode=o.createBiquadFilter();e.overdriveNode=o.createWaveShaper();var r=a.createSwitch(t,n,e.active),i=r[0],s=r[1];e.toggle=s;n.gain.value=1.175;e.overdriveNode.curve=e.makeDistortionCurve(e.drive);e.overdriveNode.oversample="4x";e.lowPassNode.type="lowpass";e.lowPassNode.frequency.value=e.lowPassFreq;t.connect(e.overdriveNode);e.overdriveNode.connect(e.lowPassNode);e.lowPassNode.connect(n);return i})};e.prototype.makeDistortionCurve=function(e){var t=44100;var o=new Float32Array(t);var n=Math.PI/180;var r=0;var i;for(;r<t;++r){i=r*2/t-1;o[r]=(8+e)*i*18*n/(Math.PI+e*Math.abs(i))}return o};e.prototype.setDriveValue=function(e){var t=parseFloat(e.detail);this.drive=t;this.overdriveNode.curve=this.makeDistortionCurve(this.drive)};e.prototype.setToneValue=function(e){var t=parseFloat(e.detail);this.lowPassFreq=t;this.lowPassNode.frequency.value=this.lowPassFreq};e.prototype.toggleActive=function(){this.active=!this.active;this.toggle()};e.prototype.render=function(){var e=this;return o("div",{class:"pedal-overdrive"},o("h1",null,"<pedal-overdrive>"),o("pedal-knob",{label:"Drive",min:10,max:50,value:this.drive,onRotate:function(t){return e.setDriveValue(t)}}),o("pedal-knob",{label:"Tone",min:3500,max:7500,value:this.lowPassFreq,onRotate:function(t){return e.setToneValue(t)}}),o("pedal-stomp",{isActive:this.active,onStomp:function(){return e.toggleActive()}}))};Object.defineProperty(e,"style",{get:function(){return""},enumerable:true,configurable:true});return e}();e("pedal_overdrive",c);function d(e,t){return t={exports:{}},e(t,t.exports),t.exports}var p=d(function(e){(function(){var t={}.hasOwnProperty;function o(){var e=[];for(var n=0;n<arguments.length;n++){var r=arguments[n];if(!r)continue;var i=typeof r;if(i==="string"||i==="number"){e.push(r)}else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);if(a){e.push(a)}}else if(i==="object"){for(var s in r){if(t.call(r,s)&&r[s]){e.push(s)}}}}return e.join(" ")}if(e.exports){o.default=o;e.exports=o}else{window.classNames=o}})()});var v=function(){function e(e){t(this,e);this.isActive=false;this.stomp=r(this,"stomp",7)}e.prototype.stompHandler=function(){this.stomp.emit()};e.prototype.render=function(){var e=this;var t=p("PedalStomp",{"PedalStomp--active":this.isActive});return o("div",{class:t},o("div",{class:"PedalStomp__led"}),o("button",{class:"PedalStomp__switch",onClick:function(){return e.stompHandler()}},"Toggle"))};Object.defineProperty(e,"style",{get:function(){return":host{--led:#48b2ee}.PedalStomp__switch{background:#464646;border:0;border-top:1px solid rgba(0,0,0,.15);border-radius:3px;font-size:0;height:120px;position:relative;width:100%}.PedalStomp__switch:after,.PedalStomp__switch:before{border-radius:10px;content:\"\";height:4px;position:absolute;top:15px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:80%}.PedalStomp__switch:before{background:#343434;border-top:1px solid rgba(0,0,0,.25);border-bottom:1px solid hsla(0,0%,100%,.25);border-right:2px solid hsla(0,0%,100%,.25);border-left:2px solid rgba(0,0,0,.25)}.PedalStomp--active .PedalStomp__switch{background:#fafafa;background:-webkit-gradient(linear,left top,left bottom,from(#424242),color-stop(85%,#252525),to(#020202));background:linear-gradient(180deg,#424242 0,#252525 85%,#020202)}.PedalStomp--active .PedalStomp__switch:before{background:var(--led)}.PedalStomp--active .PedalStomp__switch:after{-webkit-box-shadow:0 -1px 5px var(--led),-1px 0 5px var(--led),1px 0 5px var(--led),0 1px 5px hsla(0,0%,100%,.25);box-shadow:0 -1px 5px var(--led),-1px 0 5px var(--led),1px 0 5px var(--led),0 1px 5px hsla(0,0%,100%,.25);opacity:.25}"},enumerable:true,configurable:true});return e}();e("pedal_stomp",v)}}});