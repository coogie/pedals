import{r as t,h as e,g as s,c as a}from"./p-31516eb7.js";class o{constructor(e){t(this,e)}render(){return e("div",{class:"app-home"},e("pedal-board",null))}static get style(){return".app-home{padding:10px}button{background:#5851ff;color:#fff;margin:8px;border:none;font-size:13px;font-weight:700;text-transform:uppercase;padding:16px 20px;border-radius:2px;-webkit-box-shadow:0 8px 16px rgba(0,0,0,.1),0 3px 6px rgba(0,0,0,.08);box-shadow:0 8px 16px rgba(0,0,0,.1),0 3px 6px rgba(0,0,0,.08);outline:0;letter-spacing:.04em;-webkit-transition:all .15s ease;transition:all .15s ease;cursor:pointer}button:hover{-webkit-box-shadow:0 3px 6px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.1);box-shadow:0 3px 6px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.1);-webkit-transform:translateY(1px);transform:translateY(1px)}"}}const i={context:new AudioContext,source:null,pedals:[],toggleOnOff:(t,e)=>s=>{(void 0===s?t.gain.value:s)?(e.gain.value=1,t.gain.value=0):(e.gain.value=0,t.gain.value=1)},createSwitch(t,e,s=!1){const a=this.context.createGain(),o=this.context.createGain(),i=this.context.createGain(),l=this.toggleOnOff(a,o);return l(s),t.connect(a),e.connect(o),a.connect(i),o.connect(i),[i,l]},addPedal(t){this.pedals.push(t)},sealPedalBoard(){this.pedals.reduce((t,e)=>e(t),this.source).connect(this.context.destination)}};class l{constructor(e){t(this,e),this.playing=!1}componentWillLoad(){const t=i.context,e=document.createElement("audio");e.src="assets/audio/OrangeDrive.mp3",e.loop=!0,this.audioNode=e,this.el.appendChild(e),i.source=t.createMediaElementSource(e)}componentDidLoad(){i.sealPedalBoard()}togglePlaying(){const t=i.context;"suspended"===t.state&&t.resume(),this.playing?this.playing&&(this.audioNode.pause(),this.playing=!1):(this.audioNode.play(),this.playing=!0)}render(){return e("div",{class:"PedalBoard"},e("h1",null,"Pedals",e("button",{onClick:()=>this.togglePlaying()},this.playing?"◼":"►")),e("div",{class:"PedalBoard__pedals"},e("pedal-boost",null),e("pedal-overdrive",null)))}get el(){return s(this)}static get style(){return".PedalBoard__pedals{display:-ms-flexbox;display:flex}.PedalBoard__pedals>*{border:1px solid;margin:1em}"}}class r{constructor(e){t(this,e),this.active=!1,this.boost=1.5}componentWillLoad(){i.addPedal(t=>{const e=i.context,s=e.createGain(),a=e.createGain(),[o,l]=i.createSwitch(t,s,this.active);return this.toggle=l,this.boostNode=a,t.connect(a),a.connect(s),o})}setBoostValue(t){const e=parseFloat(t.detail);this.boostNode.gain.value=e}toggleActive(){this.active=!this.active,this.toggle()}render(){return e("div",{class:"pedal-boost"},e("h1",null,"<pedal-boost>"),e("pedal-knob",{label:"Boost",min:0,max:3,value:this.boost,onRotate:t=>this.setBoostValue(t)}),e("pedal-stomp",{isActive:this.active,onStomp:()=>this.toggleActive()}))}static get style(){return""}}class n{constructor(e){t(this,e),this.max=1,this.min=0,this.step="any",this.value=0,this.rotate=a(this,"rotate",7)}inputHandler(t){const e=parseFloat(t.target.value);this.rotate.emit(e)}render(){return e("div",{class:"pedal-knob"},e("label",{htmlFor:"knob"},this.label),e("input",{id:"knob",type:"range",min:this.min,max:this.max,step:this.step,value:this.value,onInput:t=>this.inputHandler(t)}))}static get style(){return""}}class c{constructor(e){t(this,e),this.active=!1,this.lowPassFreq=5200,this.drive=18}componentWillLoad(){i.addPedal(t=>{const e=i.context,s=e.createGain();this.lowPassNode=e.createBiquadFilter(),this.overdriveNode=e.createWaveShaper();const[a,o]=i.createSwitch(t,s,this.active);return this.toggle=o,s.gain.value=1.175,this.overdriveNode.curve=this.makeDistortionCurve(this.drive),this.overdriveNode.oversample="4x",this.lowPassNode.type="lowpass",this.lowPassNode.frequency.value=this.lowPassFreq,t.connect(this.overdriveNode),this.overdriveNode.connect(this.lowPassNode),this.lowPassNode.connect(s),a})}makeDistortionCurve(t){const e=new Float32Array(44100),s=Math.PI/180;let a,o=0;for(;o<44100;++o)e[o]=(8+t)*(a=2*o/44100-1)*18*s/(Math.PI+t*Math.abs(a));return e}setDriveValue(t){const e=parseFloat(t.detail);this.drive=e,this.overdriveNode.curve=this.makeDistortionCurve(this.drive)}setToneValue(t){const e=parseFloat(t.detail);this.lowPassFreq=e,this.lowPassNode.frequency.value=this.lowPassFreq}toggleActive(){this.active=!this.active,this.toggle()}render(){return e("div",{class:"pedal-overdrive"},e("h1",null,"<pedal-overdrive>"),e("pedal-knob",{label:"Drive",min:10,max:50,value:this.drive,onRotate:t=>this.setDriveValue(t)}),e("pedal-knob",{label:"Tone",min:3500,max:7500,value:this.lowPassFreq,onRotate:t=>this.setToneValue(t)}),e("pedal-stomp",{isActive:this.active,onStomp:()=>this.toggleActive()}))}static get style(){return""}}var d,h=(function(t){!function(){var e={}.hasOwnProperty;function s(){for(var t=[],a=0;a<arguments.length;a++){var o=arguments[a];if(o){var i=typeof o;if("string"===i||"number"===i)t.push(o);else if(Array.isArray(o)&&o.length){var l=s.apply(null,o);l&&t.push(l)}else if("object"===i)for(var r in o)e.call(o,r)&&o[r]&&t.push(r)}}return t.join(" ")}t.exports?(s.default=s,t.exports=s):window.classNames=s}()}(d={exports:{}}),d.exports);class p{constructor(e){t(this,e),this.isActive=!1,this.stomp=a(this,"stomp",7)}stompHandler(){this.stomp.emit()}render(){const t=h("PedalStomp",{"PedalStomp--active":this.isActive});return e("div",{class:t},e("div",{class:"PedalStomp__led"}),e("button",{class:"PedalStomp__switch",onClick:()=>this.stompHandler()},"Toggle"))}static get style(){return":host{--led:#48b2ee}.PedalStomp__switch{background:#464646;border:0;border-top:1px solid rgba(0,0,0,.15);border-radius:3px;font-size:0;height:120px;position:relative;width:100%}.PedalStomp__switch:after,.PedalStomp__switch:before{border-radius:10px;content:\"\";height:4px;position:absolute;top:15px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:80%}.PedalStomp__switch:before{background:#343434;border-top:1px solid rgba(0,0,0,.25);border-bottom:1px solid hsla(0,0%,100%,.25);border-right:2px solid hsla(0,0%,100%,.25);border-left:2px solid rgba(0,0,0,.25)}.PedalStomp--active .PedalStomp__switch{background:#fafafa;background:-webkit-gradient(linear,left top,left bottom,from(#424242),color-stop(85%,#252525),to(#020202));background:linear-gradient(180deg,#424242 0,#252525 85%,#020202)}.PedalStomp--active .PedalStomp__switch:before{background:var(--led)}.PedalStomp--active .PedalStomp__switch:after{-webkit-box-shadow:0 -1px 5px var(--led),-1px 0 5px var(--led),1px 0 5px var(--led),0 1px 5px hsla(0,0%,100%,.25);box-shadow:0 -1px 5px var(--led),-1px 0 5px var(--led),1px 0 5px var(--led),0 1px 5px hsla(0,0%,100%,.25);opacity:.25}"}}export{o as app_home,l as pedal_board,r as pedal_boost,n as pedal_knob,c as pedal_overdrive,p as pedal_stomp};